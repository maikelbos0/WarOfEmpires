@page "/register"

@using WarOfEmpires.Models.Security

<Title>Register</Title>

<Form Route="Security.Register" Model="model" OnSuccess="@(() => NavigationManager.NavigateTo("/"))"
    SuccessMessage="You have registered successfully. An email has been sent to the provided email address with a validation link.">

    <div class="form-field">
        <Label For="() => model.Email" />
        <InputText @bind-Value="model.Email" />
        <ValidationMessage For="() => model.Email" />
    </div>

    <div class="form-field">
        <Label For="() => model.Password" />
        <InputText type="password" @bind-Value="model.Password" />
        @*TODO password judger*@
        <ValidationMessage For="() => model.Password" />
    </div>

    <div class="form-field">
        <Label For="() => model.ConfirmPassword" />
        <InputText type="password" @bind-Value="model.ConfirmPassword" />
        <ValidationMessage For="() => model.ConfirmPassword" />
    </div>
</Form>

@code {
    private RegisterUserModel model = new();

    [Inject]
    public NavigationManager NavigationManager { get; set; } = null!;
}