
@*TODO merge css class*@
<input type="password" @bind-value="Password" @bind-value:event="oninput" class="@Strength" @attributes="AdditionalAttributes" />

@code {
    private string? password;

    [Inject]
    public PasswordStrengthCalculator Calculator { get; set; } = null!;

    [Parameter]
    public string? Password {
        get => password;
        set {
            if (password == value) {
                return;
            }

            password = value;
            PasswordChanged.InvokeAsync(value);
        }
    }

    [Parameter]
    public EventCallback<string> PasswordChanged { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public IReadOnlyDictionary<string, object>? AdditionalAttributes { get; set; }

    public string Strength => $"password-strength-{Calculator.Calculate(Password).ToString().ToLower()}";
}