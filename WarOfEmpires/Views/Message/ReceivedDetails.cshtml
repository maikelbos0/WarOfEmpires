@model WarOfEmpires.Models.Messages.ReceivedMessageDetailsViewModel

@{
    ViewBag.Title = $"Message";
}

<h2>Message</h2>

<div class="row">
    <div class="col-12 col-md-6 offset-md-3">
        @if (Model.SenderId != null) {
            <div class="text-end">
                <div class="btn-group">
                    @Html.ActionLink("Reply", "Reply", new { messageId = Model.Id }, new { @class = "btn btn-primary" })

                    @using (Html.BeginForm("Block", "Player", FormMethod.Post)) {
                        <input type="hidden" name="id" value="@Model.SenderId" />

                        <button type="submit" class="btn btn-secondary site-unrounded-start">Block</button>
                    }
                </div>
            </div>
        }

        <div class="mb-3">
            <label>Sender</label>
            @if (Model.SenderId == null) {
                <div class="form-control" readonly="readonly">@Model.Sender</div>
            }
            else {
                @Html.ActionLink(Model.Sender, "Details", "Player", new { id = Model.SenderId }, new { @class = "w-100 btn btn-secondary text-start" })
            }
        </div>

        <div class="mb-3">
            <label>Date received</label>
            <div class="form-control" readonly="readonly">@Model.Date.ToString(StringFormat.Date)</div>
        </div>

        <div class="mb-3">
            <label>Subject</label>
            <div class="form-control" readonly="readonly">@Model.Subject</div>
        </div>

        <div class="site-user-text">@Model.Body</div>
    </div>
</div>